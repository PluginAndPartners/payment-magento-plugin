<?xml version="1.0"?>
<!--
/**
 * Copyright Â© MercadoPago. All rights reserved.
 *
 * @author      Bruno Elisei <brunoelisei@o2ti.com>
 * @license     See LICENSE for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <!-- Plugin - Vault not duplicated -->
    <type name="Magento\Vault\Api\PaymentTokenManagementInterface">
        <plugin name="mercadopago_vault"
                type="MercadoPago\PaymentMagento\Plugin\PaymentToken"
                sortOrder="1"/>
    </type>

    <!-- Console -->
    <type name="Magento\Framework\Console\CommandList">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="fetchMerchantInfo" xsi:type="object">MercadoPago\PaymentMagento\Console\Command\Adminstrative\FetchMerchantInfo</item>
                <item name="fetchAllowedPaymentMethods" xsi:type="object">MercadoPago\PaymentMagento\Console\Command\Adminstrative\FetchAllowedPaymentMethods</item>
                <item name="fetchOrderStatus" xsi:type="object">MercadoPago\PaymentMagento\Console\Command\Notification\FetchOrderStatus</item>
                <item name="checkoutProAddChild" xsi:type="object">MercadoPago\PaymentMagento\Console\Command\Notification\CheckoutProAddChild</item>
            </argument>
        </arguments>
    </type>

    <!-- API - Create Vault -->
    <preference for="MercadoPago\PaymentMagento\Api\CreateVaultManagementInterface" type="MercadoPago\PaymentMagento\Model\Api\CreateVaultManagement" />

    <!-- API - Payment Information -->
    <preference for="MercadoPago\PaymentMagento\Api\PayInfoManagementInterface" type="MercadoPago\PaymentMagento\Model\Api\PayInfoManagement" />

    <!-- API - Finance Cost -->
    <preference for="MercadoPago\PaymentMagento\Api\GuestFinanceCostManagementInterface" type="MercadoPago\PaymentMagento\Model\Api\GuestFinanceCostManagement" />
    <preference for="MercadoPago\PaymentMagento\Api\FinanceCostManagementInterface" type="MercadoPago\PaymentMagento\Model\Api\FinanceCostManagement" />
    <preference for="MercadoPago\PaymentMagento\Api\Data\FinanceCostInterface" type="MercadoPago\PaymentMagento\Model\Api\Data\FinanceCost" />
    <preference for="MercadoPago\PaymentMagento\Api\Data\RulesForFinanceCostInterface" type="MercadoPago\PaymentMagento\Model\Api\Data\RulesForFinanceCost" />

    <type name="Magento\Config\Model\Config\TypePool">
        <arguments>
            <argument name="sensitive" xsi:type="array">
                <item name="payment/mercadopago_MercadoPago/client_id_production" xsi:type="string">0</item>
                <item name="payment/mercadopago_MercadoPago/client_secret_production" xsi:type="string">1</item>
                <item name="payment/mercadopago_MercadoPago/client_id_sandbox" xsi:type="string">0</item>
                <item name="payment/mercadopago_MercadoPago/client_secret_sandbox" xsi:type="string">1</item>
            </argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Request\BackUrlsDataRequest">
        <arguments>
            <argument name="frontendUrlBuilder" xsi:type="object">Magento\Framework\Url</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Request\NotificationUrlDataRequest">
        <arguments>
            <argument name="frontendUrlBuilder" xsi:type="object">Magento\Framework\Url</argument>
        </arguments>
    </type>

     <type name="MercadoPago\PaymentMagento\Gateway\Request\CheckoutProNotificationUrlDataRequest">
        <arguments>
            <argument name="frontendUrlBuilder" xsi:type="object">Magento\Framework\Url</argument>
        </arguments>
    </type>

    <!-- All - Adapter Interface -->
    <preference for="MercadoPago\PaymentMagento\Gateway\Data\Order\OrderAdapterInterface" type="MercadoPago\PaymentMagento\Gateway\Data\Order\OrderAdapter"/>
    <preference for="MercadoPago\PaymentMagento\Gateway\Data\Order\AddressAdapterInterface" type="MercadoPago\PaymentMagento\Gateway\Data\Order\AddressAdapter"/>

    <!-- Payment Method Facade Configuration -->
    <virtualType name="MecadoPagoBaseFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderBase::CODE</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoValueHandlerPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoCcCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Cc - Facade Configuration -->
    <virtualType name="MecadoPagoCcFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderCc::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Card</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Card</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoCcValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoCcValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoCcCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- CcVault - Facade Configuration -->
    <virtualType name="MecadoPagoCcVaultFacade" type="Magento\Vault\Model\Method\Vault">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderCc::VAULT_CODE</argument>
            <argument name="config" xsi:type="object">MercadoPagoVaultPaymentConfig</argument>
            <argument name="valueHandlerPool" xsi:type="object">MercadoPagoVaultPaymentValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoCcValidatorPool</argument>
            <argument name="vaultProvider" xsi:type="object">MecadoPagoCcFacade</argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Facade Configuration -->
    <virtualType name="MecadoPagoCheckoutProFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderCheckoutPro::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\CheckoutPro</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\CheckoutPro</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoCheckoutProValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoCheckoutProValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoCheckoutProCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Boleto - Facade Configuration -->
    <virtualType name="MecadoPagoBoletoFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderBoleto::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Boleto</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Boleto</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoBoletoValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoBoletoValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Pec - Facade Configuration -->
    <virtualType name="MecadoPagoPecFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPec::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Pec</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Pec</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoPecValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoPecValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Facade Configuration -->
    <virtualType name="MecadoPagoPixFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPix::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Pix</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Pix</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoPixValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoPixValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoPixCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- PagoFacil - Facade Configuration -->
    <virtualType name="MecadoPagoPagoFacilFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPagoFacil::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\PagoFacil</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\PagoFacil</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoPagoFacilValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoPagoFacilValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- RapiFacil - Facade Configuration -->
    <virtualType name="MecadoPagoRapiPagoFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderRapiPago::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\RapiPago</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\RapiPago</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoRapiPagoValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoRapiPagoValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- PayCash - Facade Configuration -->
    <virtualType name="MecadoPagoPayCashFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPayCash::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\PayCash</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\PayCash</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoPayCashValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoPayCashValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Oxxo - Facade Configuration -->
    <virtualType name="MecadoPagoOxxoFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderOxxo::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Oxxo</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Oxxo</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoOxxoValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoOxxoValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Efecty - Facade Configuration -->
    <virtualType name="MecadoPagoEfectyFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderEfecty::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Efecty</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Efecty</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoEfectyValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoEfectyValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Abitab - Facade Configuration -->
    <virtualType name="MecadoPagoAbitabFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderAbitab::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Abitab</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Abitab</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoAbitabValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoAbitabValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Redpagos - Facade Configuration -->
    <virtualType name="MecadoPagoRedpagosFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderRedpagos::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Redpagos</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Redpagos</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoRedpagosValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoRedpagosValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Pse - Facade Configuration -->
    <virtualType name="MecadoPagoPseFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPse::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Pse</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Pse</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoPseValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoPseValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoBankTransferCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Banamex - Facade Configuration -->
    <virtualType name="MecadoPagoBanamexFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderBanamex::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Banamex</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Banamex</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoBanamexValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoBanamexValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoAtmCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Bancomer - Facade Configuration -->
    <virtualType name="MecadoPagoBancomerFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderBancomer::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Bancomer</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Bancomer</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoBancomerValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoBancomerValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoAtmCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Serfin - Facade Configuration -->
    <virtualType name="MecadoPagoSerfinFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderSerfin::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Serfin</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Serfin</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoSerfinValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoSerfinValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoAtmCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- PagoEfectivo - Facade Configuration -->
    <virtualType name="MecadoPagoPagoEfectivoFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPagoEfectivo::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\PagoEfectivo</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\PagoEfectivo</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoPagoEfectivoValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoPagoEfectivoValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoAtmCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- Webpay - Facade Configuration -->
    <virtualType name="MecadoPagoWebpayFacade" type="Magento\Payment\Model\Method\Adapter">
        <arguments>
            <argument name="code" xsi:type="const">MercadoPago\PaymentMagento\Model\Ui\ConfigProviderWebpay::CODE</argument>
            <argument name="formBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Form\Webpay</argument>
            <argument name="infoBlockType" xsi:type="string">MercadoPago\PaymentMagento\Block\Sales\Info\Webpay</argument>
            <argument name="valueHandlerPool" xsi:type="object">MecadoPagoWebpayValueHandlerPool</argument>
            <argument name="validatorPool" xsi:type="object">MecadoPagoWebpayValidatorPool</argument>
            <argument name="commandPool" xsi:type="object">MecadoPagoBankTransferCommandPool</argument>
        </arguments>
    </virtualType>

    <!-- All - Executors -->
    <type name="Magento\Payment\Gateway\Command\CommandManagerPool">
        <arguments>
            <argument name="executors" xsi:type="array">
                <item name="mercadopago_MercadoPago_cc" xsi:type="string">MecadoPagoCcCommandManager</item>
                <item name="mercadopago_MercadoPago_cc_vault" xsi:type="string">MecadoPagoCcCommandManager</item>
                <item name="mercadopago_MercadoPago_checkout_pro" xsi:type="string">MecadoPagoCheckoutProCommandManager</item>
                <item name="mercadopago_MercadoPago_boleto" xsi:type="string">MecadoPagoBoletoCommandManager</item>
                <item name="mercadopago_MercadoPago_pec" xsi:type="string">MecadoPagoPecCommandManager</item>
                <item name="mercadopago_MercadoPago_pix" xsi:type="string">MecadoPagoPixCommandManager</item>
                <item name="mercadopago_MercadoPago_pagofacil" xsi:type="string">MecadoPagoPagoFacilCommandManager</item>
                <item name="mercadopago_MercadoPago_rapipago" xsi:type="string">MecadoPagoRapiPagoCommandManager</item>
                <item name="mercadopago_MercadoPago_paycash" xsi:type="string">MecadoPagoPayCashCommandManager</item>
                <item name="mercadopago_MercadoPago_oxxo" xsi:type="string">MecadoPagoOxxoCommandManager</item>
                <item name="mercadopago_MercadoPago_efecty" xsi:type="string">MecadoPagoEfectyCommandManager</item>
                <item name="mercadopago_MercadoPago_abitaby" xsi:type="string">MecadoPagoAbitabCommandManager</item>
                <item name="mercadopago_MercadoPago_redpagos" xsi:type="string">MecadoPagoRedpagosCommandManager</item>
                <item name="mercadopago_MercadoPago_pse" xsi:type="string">MecadoPagoPseCommandManager</item>
                <item name="mercadopago_MercadoPago_banamex" xsi:type="string">MecadoPagoBanamexCommandManager</item>
                <item name="mercadopago_MercadoPago_bancomer" xsi:type="string">MecadoPagoBancomerCommandManager</item>
                <item name="mercadopago_MercadoPago_serfin" xsi:type="string">MecadoPagoSerfinCommandManager</item>
                <item name="mercadopago_MercadoPago_pagoefectivo" xsi:type="string">MecadoPagoPagoEfectivoCommandManager</item>
                <item name="mercadopago_MercadoPago_webpay" xsi:type="string">MecadoPagoWebpayCommandManager</item>
            </argument>
        </arguments>
    </type>

    <!-- Base - Validator -->
    <type name="Magento\Payment\Model\Checks\Composite">
        <plugin name="mp_site_id" type="MercadoPago\PaymentMagento\Model\Checks\SpecificationPlugin"/>
    </type>

    <!-- Abitab - Validator -->
    <virtualType name="MecadoPagoAbitabCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigAbitab</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoAbitabValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoAbitabCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Boleto - Validator -->
    <virtualType name="MecadoPagoBoletoCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigBoleto</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBoletoValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoBoletoCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Validator -->
    <virtualType name="MecadoPagoCcCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigCc</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCcValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoCcCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Validator -->
    <virtualType name="MecadoPagoCheckoutProCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigCheckoutPro</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCheckoutProValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoCheckoutProCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Efecty - Validator -->
    <virtualType name="MecadoPagoEfectyCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigEfecty</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoEfectyValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoEfectyCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Oxxo - Validator -->
    <virtualType name="MecadoPagoOxxoCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigOxxo</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoOxxoValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoOxxoCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- PagoFacil - Validator -->
    <virtualType name="MecadoPagoPagoFacilCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigPagoFacil</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoFacilValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoPagoFacilCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- PayCash - Validator -->
    <virtualType name="MecadoPagoPayCashCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigPayCash</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPayCashValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoPayCashCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pec - Validator -->
    <virtualType name="MecadoPagoPecCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigPec</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPecValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoPecCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Validator -->
    <virtualType name="MecadoPagoPixCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigPix</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPixValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoPixCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- RapiPago - Validator -->
    <virtualType name="MecadoPagoRapiPagoCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigRapiPago</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRapiPagoValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoRapiPagoCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Redpagos - Validator -->
    <virtualType name="MecadoPagoRedpagosCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigRedpagos</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRedpagosValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoRedpagosCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pse - Validator -->
    <virtualType name="MecadoPagoPseCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigPse</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPseValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoPseCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Banamex - Validator -->
    <virtualType name="MecadoPagoBanamexCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigBanamex</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBanamexValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoBanamexCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Bancomer - Validator -->
    <virtualType name="MecadoPagoBancomerCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigBancomer</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBancomerValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoBancomerCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Serfin - Validator -->
    <virtualType name="MecadoPagoSerfinCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigSerfin</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoSerfinValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoSerfinCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- PagoEfectivo - Validator -->
    <virtualType name="MecadoPagoPagoEfectivoCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigPagoEfectivo</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoEfectivoValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoPagoEfectivoCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Webpay - Validator -->
    <virtualType name="MecadoPagoWebpayCountryValidator" type="Magento\Payment\Gateway\Validator\CountryValidator">
        <arguments>
            <argument name="config" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Config\ConfigWebpay</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoWebpayValidatorPool" type="Magento\Payment\Gateway\Validator\ValidatorPool">
        <arguments>
            <argument name="validators" xsi:type="array">
                <item name="country" xsi:type="string">MecadoPagoWebpayCountryValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- All - Configuration reader -->
    <virtualType name="MecadoPagoBaseConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderBase::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCcConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderCc::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoVaultPaymentConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderCc::VAULT_CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCheckoutProConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderCheckoutPro::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBoletoConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderBoleto::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPecConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPec::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPixConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPix::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoFacilConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPagoFacil::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRapiPagoConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderRapiPago::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPayCashConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPayCash::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoOxxoConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderOxxo::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoEfectyConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderEfecty::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoAbitabConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderAbitab::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRedpagosConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderRedpagos::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPseConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPse::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBanamexConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderBanamex::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBancomerConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderBancomer::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoSerfinConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderSerfin::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoEfectivoConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderPagoEfectivo::CODE</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoWebpayConfig" type="Magento\Payment\Gateway\Config\Config">
        <arguments>
            <argument name="methodCode" xsi:type="const">\MercadoPago\PaymentMagento\Model\Ui\ConfigProviderWebpay::CODE</argument>
        </arguments>
    </virtualType>

    <!-- All - Block Info -->
    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Card">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoCcConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\CheckoutPro">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoCheckoutProConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Boleto">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBoletoConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Pec">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoPecConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Pix">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoPixConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\PagoFacil">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoPagoFacilConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\RapiPago">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoRapiPagoConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\PayCash">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoPayCashConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Oxxo">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoOxxoConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Efecty">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoEfectyConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Abitab">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoAbitabConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Redpagos">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoRedpagosConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Pse">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoPseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Banamex">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBanamexConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Bancomer">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBancomerConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Serfin">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoSerfinConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\PagoEfectivo">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoPagoEfectivoConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Block\Sales\Info\Webpay">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoWebpayConfig</argument>
        </arguments>
    </type>

    <!-- CheckoutPro - Commands infrastructure -->
    <virtualType name="MecadoPagoCheckoutProCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MecadoPagoCheckoutProOrderCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MecadoPagoCheckoutProFetchCommand</item>
                <item name="cancel" xsi:type="string">MecadoPagoTicketCancelPaymentCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Fetch Commands  -->
    <virtualType name="MecadoPagoCheckoutProFetchCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoCheckoutProCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoCheckoutProBaseFetchRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoTicketFetchResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Fetch Order Request -->
    <virtualType name="MecadoPagoCheckoutProBaseFetchRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Order Commands -->
    <virtualType name="MecadoPagoCheckoutProOrderCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoCheckoutProCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoCheckoutProOrderRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoCheckoutProOrderResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCheckoutProClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Order Request -->
    <virtualType name="MecadoPagoCheckoutProOrderRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\CheckoutProNotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DescriptionDataRequest</item>
                <item name="backUrls" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BackUrlsDataRequest</item>
                <item name="excluded" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExcludedCheckoutProDataRequest</item>
                <item name="installments" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\InstallmentsCheckoutProDataRequest</item>
                <item name="tracks" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\TracksCheckoutProDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="itemsAndDetailsCost" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ItemsAndDatailsCostDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PayerDataRequest</item>
                <item name="payerCheckoutPro" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PayerCheckoutProDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BillingAddressDataRequest</item>
                <item name="shippings" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataCheckoutPro" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentCheckoutProDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\CheckoutProPaymentDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- CheckoutPro - Order Payment Response handlers -->
    <virtualType name="MecadoPagoCheckoutProOrderResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCheckoutPro" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\TxnIdCheckoutProHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Commands infrastructure -->
    <virtualType name="MecadoPagoTicketCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MecadoPagoTicketOrderCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MecadoPagoTicketFetchCommand</item>
                <item name="cancel" xsi:type="string">MecadoPagoTicketCancelPaymentCommand</item>
                <item name="void" xsi:type="string">MecadoPagoTicketVoidPaymentCommand</item>
                <item name="capture" xsi:type="string">MecadoPagoTicketCaptureCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Order Commands -->
    <virtualType name="MecadoPagoTicketOrderCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoTicketOrderRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoTicketOrderResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Order Request -->
    <virtualType name="MecadoPagoTicketOrderRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataTicket" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentTicketDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\TicketPaymentDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Order Payment Response handlers -->
    <virtualType name="MecadoPagoTicketOrderResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdTicket" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\TxnIdTicketHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- BankTransfer - Commands infrastructure -->
    <virtualType name="MecadoPagoBankTransferCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MecadoPagoBankTransferOrderCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MecadoPagoTicketFetchCommand</item>
                <item name="cancel" xsi:type="string">MecadoPagoTicketCancelPaymentCommand</item>
                <item name="void" xsi:type="string">MecadoPagoTicketVoidPaymentCommand</item>
                <item name="capture" xsi:type="string">MecadoPagoTicketCaptureCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- BankTransfer - Order Commands -->
    <virtualType name="MecadoPagoBankTransferOrderCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoBankTransferCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoBankTransferOrderRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoBankTransferOrderResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- BankTransfer - Order Request -->
    <virtualType name="MecadoPagoBankTransferOrderRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoIpAddress" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoIpDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataBankTransfer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentBankTransfDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BankTransferPaymentDataRequest</item>
                <item name="transactionDetails" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BankTransDetailsDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- BankTransfer - Order Payment Response handlers -->
    <virtualType name="MecadoPagoBankTransferOrderResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdBankTransfer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\TxnIdBankTransferHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Atm - Commands infrastructure -->
    <virtualType name="MecadoPagoAtmCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MecadoPagoAtmOrderCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MecadoPagoTicketFetchCommand</item>
                <item name="cancel" xsi:type="string">MecadoPagoTicketCancelPaymentCommand</item>
                <item name="void" xsi:type="string">MecadoPagoTicketVoidPaymentCommand</item>
                <item name="capture" xsi:type="string">MecadoPagoTicketCaptureCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Atm - Order Commands -->
    <virtualType name="MecadoPagoAtmOrderCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoAtmCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoAtmOrderRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoAtmOrderResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Atm - Order Request -->
    <virtualType name="MecadoPagoAtmOrderRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataPse" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentAtmDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AtmPaymentDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Atm - Order Payment Response handlers -->
    <virtualType name="MecadoPagoAtmOrderResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdAtm" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\TxnIdAtmHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Commands infrastructure -->
    <virtualType name="MecadoPagoPixCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="initialize" xsi:type="string">MecadoPagoPixOrderCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="cancel" xsi:type="string">MecadoPagoPixCancelPaymentCommand</item>
                <item name="fetch_transaction_information" xsi:type="string">MecadoPagoPixFetchCommand</item>
                <item name="void" xsi:type="string">MecadoPagoPixVoidPaymentCommand</item>
                <item name="capture" xsi:type="string">MecadoPagoPixCaptureCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Order Commands -->
    <virtualType name="MecadoPagoPixOrderCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoPixOrderRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoPixOrderResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Order Request -->
    <virtualType name="MecadoPagoPixOrderRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataPix" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentPixDataRequest</item>
                <item name="pointOfInteraction" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PointOfInteractionPaymentDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PixPaymentDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Order Payment Response handlers -->
    <virtualType name="MecadoPagoPixOrderResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdPix" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\TxnIdPixHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Commands infrastructure -->
    <virtualType name="MecadoPagoCcCommandPool" type="Magento\Payment\Gateway\Command\CommandPool">
        <arguments>
            <argument name="commands" xsi:type="array">
                <item name="authorize" xsi:type="string">MercadoPagoAuthorizeCcCommand</item>
                <item name="capture" xsi:type="string">MercadoPagoCaptureCcCommand</item>
                <item name="refund" xsi:type="string">MercadoPagoRefundCommand</item>
                <item name="cancel" xsi:type="string">MercadoPagoDenyPaymentCommand</item>
                <item name="void" xsi:type="string">MercadoPagoDenyPaymentCommand</item>
                <item name="accept_payment" xsi:type="string">MercadoPagoAcceptPaymentCommand</item>
                <item name="deny_payment" xsi:type="string">MercadoPagoDenyPaymentCommand</item>
                <item name="vault_authorize" xsi:type="string">MecadoPagoCcVaultAuthorizeCommand</item>
                <item name="vault_sale" xsi:type="string">MecadoPagoCcVaultCaptureCommand</item>
                <item name="vault_capture" xsi:type="string">MecadoPagoCcVaultCaptureCommand</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Authorization Order Request -->
    <virtualType name="MecadoPagoCcAuthorizationRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataCc" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentCcDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\CcPaymentDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Commands Authorize -->
    <virtualType name="MercadoPagoAuthorizeCcCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoCcAuthorizationRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoAuthorizationResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Cc - Authorization Payment Response handlers -->
    <virtualType name="MercadoPagoAuthorizationResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\CcTransactionAuthorizationHandler</item>
                <item name="vaultBuilder" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\VaultDetailsHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Cc - Capture Commands -->
    <virtualType name="MercadoPagoCaptureCcCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoCcAuthorizationRequest</argument>
            <argument name="handler" xsi:type="object">MercadoPagoCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Cc - Capture Payment Response handlers -->
    <virtualType name="MercadoPagoCaptureResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\CcTransactionCaptureHandler</item>
                <item name="vaultBuilder" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\VaultDetailsHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Vault - Capture Command-->
    <virtualType name="MecadoPagoCcVaultCaptureCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoCcVaultRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoCcVaultCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Vault - Authorize Command-->
    <virtualType name="MecadoPagoCcVaultAuthorizeCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoCcCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoCcVaultRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoCcVaultAuthorizeResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCustomClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Vault - Order Request -->
    <virtualType name="MecadoPagoCcVaultRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="notificationUrl" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\NotificationUrlDataRequest</item>
                <item name="externalReference" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExternalReferenceDataRequest</item>
                <item name="descriptionTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DescriptionDataRequest</item>
                <item name="transactionAmountTotal" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\TransactionAmountDataRequest</item>
                <item name="payer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\PayerDataRequest</item>
                <item name="payerDocumentIdentification" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\DocumentIdentificationDataRequest</item>
                <item name="payerBillingAddress" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\BillingAddressDataRequest</item>
                <item name="additionalInfoNode" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoDataRequest</item>
                <item name="additionalInfoItems" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoItemsDataRequest</item>
                <item name="additionalInfoPayer" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoPayerDataRequest</item>
                <item name="additionalInfoShippings" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\AdditionalInfoShippingsDataRequest</item>
                <item name="metadata" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentDataRequest</item>
                <item name="metadataCc" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\MetadataPaymentCcDataRequest</item>
                <item name="paymentMethod" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\CcPaymentDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Vault - Authorization Response handlers -->
    <virtualType name="MecadoPagoCcVaultAuthorizeResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\CcTransactionAuthorizationHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Vault - Capture Response handlers -->
    <virtualType name="MecadoPagoCcVaultCaptureResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="extOrdId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\ExtOrdIdHandler</item>
                <item name="txnIdCc" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\TxnIdCcHandler</item>
                <item name="transaction" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\CcTransactionCaptureHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Fetch Commands  -->
    <virtualType name="MecadoPagoTicketFetchCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoTicketBaseFetchRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoTicketFetchResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Fetch Order Request -->
    <virtualType name="MecadoPagoTicketBaseFetchRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Void Payment Response handlers -->
    <virtualType name="MecadoPagoTicketFetchResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="fetch" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\FetchPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Cancel Commands -->
    <virtualType name="MecadoPagoTicketCancelPaymentCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoTicketBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoTicketVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CancelPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Void Commands -->
    <virtualType name="MecadoPagoTicketVoidPaymentCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoTicketBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoTicketVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Void Order Request -->
    <virtualType name="MecadoPagoTicketBaseVoidRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Void Payment Response handlers -->
    <virtualType name="MecadoPagoTicketVoidResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="void" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\VoidPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Capture Commands -->
    <virtualType name="MecadoPagoTicketCaptureCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoTicketCaptureRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoTicketCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Authorization Order Request -->
    <virtualType name="MecadoPagoTicketCaptureRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Ticket - Capture Payment Response handlers -->
    <virtualType name="MecadoPagoTicketCaptureResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="capture" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\CapturePaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- PIX - Fetch Commands  -->
    <virtualType name="MecadoPagoPixFetchCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoPixBaseFetchRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoPixFetchResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Fetch Order Request -->
    <virtualType name="MecadoPagoPixBaseFetchRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Fecth Payment Response handlers -->
    <virtualType name="MecadoPagoPixFetchResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="fetch" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\FetchPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Cancel Commands -->
    <virtualType name="MecadoPagoPixCancelPaymentCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoPixBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoPixVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\CancelPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Void Commands -->
    <virtualType name="MecadoPagoPixVoidPaymentCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoPixBaseVoidRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoPixVoidResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Void Order Request -->
    <virtualType name="MecadoPagoPixBaseVoidRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Void Payment Response handlers -->
    <virtualType name="MecadoPagoPixVoidResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="void" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\VoidPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Capture Commands -->
    <virtualType name="MecadoPagoPixCaptureCommand" type="MercadoPago\PaymentMagento\Gateway\Command\PaymentCommand">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoPixCommandPool</argument>
            <argument name="requestBuilder" xsi:type="object">MecadoPagoPixCaptureRequest</argument>
            <argument name="handler" xsi:type="object">MecadoPagoPixCaptureResponseHandlerComposite</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\FetchPaymentClient</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Pix - Authorization Order Request -->
    <virtualType name="MecadoPagoPixCaptureRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="extPaymentId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Pix - Capture Payment Response handlers -->
    <virtualType name="MecadoPagoPixCaptureResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="capture" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\CapturePaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Refund - Command -->
    <virtualType name="MercadoPagoRefundCommand" type="Magento\Payment\Gateway\Command\GatewayCommand">
        <arguments>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoRefundRequest</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\RefundClient</argument>
            <argument name="handler" xsi:type="object">MercadoPagoRefundResponseHandlerComposite</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Base - Refund - Transaction Info Request -->
    <virtualType name="MercadoPagoRefundRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="transaction" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\RefundRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Refund - Info handlers -->
    <virtualType name="MercadoPagoRefundResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="refund" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\RefundHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Accept Payment Command -->
    <virtualType name="MercadoPagoAcceptPaymentCommand" type="Magento\Payment\Gateway\Command\GatewayCommand">
        <arguments>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoAcceptPaymentRequest</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\AcceptPaymentClient</argument>
            <argument name="handler" xsi:type="object">MercadoPagoAccpetPaymentResponseHandlerComposite</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Base - Accept Payment Request -->
    <virtualType name="MercadoPagoAcceptPaymentRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="transaction" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Accept Payment handlers -->
    <virtualType name="MercadoPagoAccpetPaymentResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="accept" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\AcceptPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Deny Payment Command -->
    <virtualType name="MercadoPagoDenyPaymentCommand" type="Magento\Payment\Gateway\Command\GatewayCommand">
        <arguments>
            <argument name="requestBuilder" xsi:type="object">MercadoPagoDenyPaymentRequest</argument>
            <argument name="transferFactory" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\TransferFactory</argument>
            <argument name="client" xsi:type="object">MercadoPago\PaymentMagento\Gateway\Http\Client\DenyPaymentClient</argument>
            <argument name="handler" xsi:type="object">MercadoPagoDenyPaymentResponseHandlerComposite</argument>
            <argument name="validator" xsi:type="object">MercadoPagoTransactionValidator</argument>
            <argument name="errorMessageMapper" xsi:type="object">MercadoPagoVirtualErrorMessageMapper</argument>
        </arguments>
    </virtualType>

    <!-- Base - Deny Payment Request -->
    <virtualType name="MercadoPagoDenyPaymentRequest" type="Magento\Payment\Gateway\Request\BuilderComposite">
        <arguments>
            <argument name="builders" xsi:type="array">
                <item name="storeId" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\StoreIdDataRequest</item>
                <item name="transaction" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Request\ExtPaymentIdDataRequest</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Deny Payment handlers -->
    <virtualType name="MercadoPagoDenyPaymentResponseHandlerComposite" type="Magento\Payment\Gateway\Response\HandlerChain">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="deny" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Response\DenyPaymentHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- Base - Error Mapping -->
    <virtualType name="MercadoPagoErrorMappingConfigReader" type="Magento\Payment\Gateway\ErrorMapper\VirtualConfigReader">
        <arguments>
            <argument name="fileName" xsi:type="string">mercadopago_error_mapping.xml</argument>
        </arguments>
    </virtualType>
    <virtualType name="MercadoPagoErrorMappingData" type="Magento\Payment\Gateway\ErrorMapper\MappingData">
        <arguments>
            <argument name="reader" xsi:type="object">MercadoPagoErrorMappingConfigReader</argument>
            <argument name="cacheId" xsi:type="string">mercadopago_error_mapper</argument>
        </arguments>
    </virtualType>
    <virtualType name="MercadoPagoVirtualErrorMessageMapper" type="Magento\Payment\Gateway\ErrorMapper\ErrorMessageMapper">
        <arguments>
            <argument name="messageMapping" xsi:type="object">MercadoPagoErrorMappingData</argument>
        </arguments>
    </virtualType>

    <!-- Base - Validator -->
    <virtualType name="MercadoPagoTransactionValidator" type="Magento\Payment\Gateway\Validator\ValidatorComposite">
        <arguments>
            <argument name="chainBreakingValidators" xsi:type="array">
                <item name="general" xsi:type="boolean">true</item>
            </argument>
            <argument name="validators" xsi:type="array">
                <item name="general" xsi:type="string">MercadoPago\PaymentMagento\Gateway\Validator\GeneralResponseValidator</item>
            </argument>
        </arguments>
    </virtualType>

    <!-- All - Implements Config Value Handler -->
    <virtualType name="MercadoPagoValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoBaseConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBaseConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCcValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoCcConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCcConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoCcConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCcCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoCcCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoVaultPaymentValueHandlerPool" type="VaultPaymentValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MercadoPagoVaultPaymentValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MercadoPagoVaultPaymentValueHandler" type="VaultPaymentDefaultValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MercadoPagoVaultPaymentConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCheckoutProCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoCheckoutProCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCheckoutProValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoCheckoutProConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoCheckoutProConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoCheckoutProConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoTicketCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoTicketValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoTicketConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoTicketConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoTicketConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBoletoCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBoletoValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoBoletoConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBoletoConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoBoletoConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPecCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPecValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoPecConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPecConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoPecConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPixCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoPixCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPixValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoPixConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPixConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoPixConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoFacilCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoFacilValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoPagoFacilConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoFacilConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoPagoFacilConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRapiPagoCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRapiPagoValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoRapiPagoConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRapiPagoConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoRapiPagoConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPayCashCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPayCashValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoPayCashConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPayCashConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoPayCashConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoOxxoCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoOxxoValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoOxxoConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoOxxoConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoOxxoConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoEfectyCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoEfectyValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoEfectyConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoEfectyConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoEfectyConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoAbitabCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoAbitabValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoAbitabConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoAbitabConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoAbitabConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRedpagosCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoTicketCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRedpagosValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoRedpagosConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoRedpagosConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoRedpagosConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPseCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoBankTransferCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPseValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoPseConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPseConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoPseConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBanamexCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoAtmCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBanamexValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoBanamexConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBanamexConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoBanamexConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBancomerCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoAtmCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBancomerValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoBancomerConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoBancomerConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoBancomerConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoSerfinCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoAtmCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoSerfinValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoSerfinConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoSerfinConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoSerfinConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoEfectivoCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoAtmCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoEfectivoValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoPagoEfectivoConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoPagoEfectivoConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoPagoEfectivoConfig</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoWebpayCommandManager" type="Magento\Payment\Gateway\Command\CommandManager">
        <arguments>
            <argument name="commandPool" xsi:type="object">MecadoPagoBankTransferCommandPool</argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoWebpayValueHandlerPool" type="Magento\Payment\Gateway\Config\ValueHandlerPool">
        <arguments>
            <argument name="handlers" xsi:type="array">
                <item name="default" xsi:type="string">MecadoPagoWebpayConfigValueHandler</item>
            </argument>
        </arguments>
    </virtualType>

    <virtualType name="MecadoPagoWebpayConfigValueHandler" type="Magento\Payment\Gateway\Config\ConfigValueHandler">
        <arguments>
            <argument name="configInterface" xsi:type="object">MecadoPagoWebpayConfig</argument>
        </arguments>
    </virtualType>

    <!-- All - Implements Config -->
    <virtualType name="MercadoPagoLogger" type="Magento\Payment\Model\Method\Logger">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </virtualType>

    <type name="MercadoPago\PaymentMagento\Gateway\Request\RefundRequest">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Request\MercadoPagoDenyPaymentRequest">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Model\NumberTokenManagement">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Model\Api\CreateVaultManagement">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Model\Api\FinanceCostManagement">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Request\AuthorizationRequest">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Request\CreateOrderAuthorizationRequest">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Request\AuthorizationRequest">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Request\FetchPaymentClient">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Request\CancelPaymentClient">
        <arguments>
            <argument name="config" xsi:type="object">MecadoPagoBaseConfig</argument>
        </arguments>
    </type>

    <!-- All - Implements Logger -->
    <type name="MercadoPago\PaymentMagento\Gateway\Validator\GeneralResponseValidator">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Model\NumberTokenManagement">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Model\Api\CreateVaultManagement">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Model\Api\FinanceCostManagement">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCustomClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Http\Client\CreateOrderPaymentCheckoutProClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Http\Client\AcceptPaymentClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Http\Client\DenyPaymentClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Http\Client\RefundClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Http\Client\FetchPaymentClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Gateway\Http\Client\CancelPaymentClient">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Controller\MpIndex">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Controller\Notification\ChekoutCustom">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Controller\Notification\CheckoutPro">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchMerchantInfo">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchPixOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchPecOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\CancelCheckoutPro">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchAbitabOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchBanamexOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchBancomerOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchEfectyOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchOxxoOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchPagoEfectivoOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchPagoFacilOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchPayCashOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchPseOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchRapiPagoOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchSerfinOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Cron\FetchWebpayOrderStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Model\Console\Command\Adminstrative\FetchMerchant">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Model\Console\Command\Adminstrative\FetchPaymentMethods">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>

    <type name="MercadoPago\PaymentMagento\Model\Console\Command\Notification\FetchStatus">
        <arguments>
            <argument name="logger" xsi:type="object">MercadoPagoLogger</argument>
        </arguments>
    </type>
</config>
